<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>jQuery Plugin from Scratch</title>
    <style>
	 	#mailAnimation{
		 	width: 128px;
		 	height: 128px;
		 	background-image: url('images/mail.png');
	 	}
	</style>
    <!--<link rel=stylesheet href="style/main.css" type="text/css">-->
  </head>
  <body>
    <div id='mailAnimation'>
		<!-- Content.... -->
	</div>
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" language="javascript">
		(function($){
			$.fn.moveEx = function(options){

				var base = $(this); //Good practice
				base.options = $.extend({}, base.defaultOptions, options);

				//Constructor
				base.init = function(options){
					base.options = $.extend({}, $.fn.moveEx.defaults, options);
					base.moveme();
					//console.log(base.options.speed);
					//console.log(base.options.distance);
				};//Init

				//Function to Animate
				base.moveme = function(options){
		          base.animate({
		            marginLeft: base.options.distance
		          },base.options.speed);
		        };
		        
				base.init(base.options);
			};

			//Plugin Default Properties
			$.fn.moveEx.defaults = {
				speed: 500,
				distance:200
			};

		})(jQuery);

		//Set new properties to "moveEx" plugin, this will overight default properties of the plugin...
		$('#mailAnimation').moveEx({
			speed: 750,
			distance: 500
		});
	</script>
  </body>
</html>